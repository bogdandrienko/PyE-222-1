{"version":3,"file":"js/423.769bfcf8.js","mappings":"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","sources":["webpack://frontend/./src/views/Login-Registration.vue","webpack://frontend/./src/views/Login-Registration.vue?ece9"],"sourcesContent":["<template>\r\n    <div class=\"size form-control my-3 p-3 bg-primary-subtle\">\r\n\r\n        <div class=\"btn-group mb-3\" role-group>\r\n            <button class=\"btn btn-outline-secondary\" @click.prevent=\"switchForm('login')\">Войти</button>\r\n            <button class=\"btn btn-outline-secondary \" @click.prevent=\"switchForm('register')\">Зарегистрироваться</button>\r\n        </div>\r\n\r\n        <form @submit.prevent=\"authentificate\" v-if=\"loginFormVisible\">\r\n            \r\n                <div class=\"form-floating mb-3\">\r\n                    <input id=\"floatingInput 1\" class=\"form-control\" type=\"text\" placeholder=\"Имя пользователя\" v-model=\"username\">\r\n                    <label for=\"floatingInput 1\">Имя пользователя!</label>\r\n                </div>\r\n                \r\n                <div class=\"form-floating input-group\">\r\n                    <input id=\"floatingInput 2\" class=\"form-control\" :type=\"showPassword ? 'text' : 'password'\" placeholder=\"Имя пользователя\" v-model=\"password\">\r\n                    <button class=\"btn btn-outline-secondary\" @click.prevent=\"showHide\"><i class=\"bi bi-eye\"></i></button>\r\n                    <label for=\"floatingInput 2\">Пароль</label>\r\n                </div>\r\n\r\n                <button class=\"btn btn-outline-primary mt-3 w-25\" type=\"submit\">Войти</button>\r\n        </form>\r\n\r\n        <form @submit.prevent=\"registrate\"  v-else>\r\n                <div class=\"form-floating mb-3\">\r\n                    <input id=\"floatingInput 3\" class=\"form-control\" type=\"text\" placeholder=\"Имя пользователя\" v-model=\"username\">\r\n                    <label for=\"floatingInput 3\">Имя пользователя!</label>\r\n                </div>\r\n\r\n                <div class=\"form-floating mb-3\">\r\n                    <input type=\"email\" class=\"form-control\" id=\"floatingInput 4\" placeholder=\"Почта\" v-model=\"email\">\r\n                    <label for=\"floatingInput 4\">Почта</label>\r\n                </div>\r\n                \r\n                <div class=\"form-floating input-group\">\r\n                    <input id=\"floatingInput 5\" class=\"form-control\" :type=\"showPassword ? 'text' : 'password'\" placeholder=\"Имя пользователя\" v-model=\"password\">\r\n                    <button class=\"btn btn-outline-secondary\" @click.prevent=\"showHide\"><i class=\"bi bi-eye\"></i></button>\r\n                    <button class=\"btn btn-outline-info\" @click.prevent=\"makePassword\">Генерировать пароль</button>\r\n                    <label for=\"floatingInput 5\">Пароль</label>\r\n                </div>\r\n\r\n                <button class=\"btn btn-outline-primary mt-3\" type=\"submit\">Зарегистрироваться</button>\r\n        </form>\r\n    </div>\r\n    \r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { authStore } from \"@/store/store\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            password: \"\",\r\n            username: \"\",\r\n            email: \"\",\r\n            showPassword: false,\r\n            loginFormVisible: true,\r\n        };\r\n    },\r\n    methods: {\r\n        switchForm(formType) {\r\n        // Метод для переключения между формами\r\n            this.loginFormVisible = formType === 'login';\r\n        },\r\n\r\n        async authentificate() {\r\n            try {\r\n                const response = await axios.post(\r\n                    'http://127.0.0.1:8000/api/token/', \r\n                    {\r\n                        username: this.username,\r\n                        password: this.password\r\n                    },\r\n                    {\r\n                        headers: {\r\n                            'Content-Type': 'application/json'\r\n                        }\r\n                    }\r\n                );\r\n                localStorage.setItem('accessToken', response.data.access);\r\n                localStorage.setItem('refreshToken', response.data.refresh);\r\n                authStore.username.value = this.username;\r\n                this.$router.push({ name: 'Home' });\r\n            } catch (error) {\r\n                console.error('Authentication failed:', error);\r\n            }\r\n        },\r\n\r\n        async registrate() {\r\n            try {\r\n                const request = await axios.post(\r\n                    'http://127.0.0.1:8000/registrate/', \r\n                    {\r\n                        username: this.username,\r\n                        password: this.password,\r\n                        email: this.email\r\n                    },\r\n                    {\r\n                        headers: {\r\n                            'Content-Type': 'application/json',\r\n                        }\r\n                    }\r\n                );\r\n                console.log(request)\r\n                this.$router.push({ name: 'Home' });\r\n            } catch (error) {\r\n                alert(error.response.data.message);\r\n            }\r\n        },\r\n\r\n        // Генерация пароля\r\n        makePassword() {\r\n            const length = Math.floor(Math.random() * (16 - 8 + 1)) + 8; // Минимум 8, максимум 16 символов\r\n            const uppercase = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n            const lowercase = 'abcdefghijklmnopqrstuvwxyz';\r\n            const numbers = '0123456789';\r\n            const specialChars = '@!#';\r\n\r\n            let result = '';\r\n\r\n            while (result.length < length) {\r\n                const charSet = Math.random() < 0.5 ? uppercase : lowercase;\r\n\r\n                // Выбираем случайный символ из выбранного charSet\r\n                const randomChar = charSet[Math.floor(Math.random() * charSet.length)];\r\n\r\n                if (result.length === 0 || Math.random() < 0.25) {\r\n                // Добавляем цифру в 25% случаев\r\n                    result += numbers[Math.floor(Math.random() * numbers.length)];\r\n                } else if (result.length < length) {\r\n                // Добавляем символ из @!# в остальных случаях\r\n                    result += specialChars[Math.floor(Math.random() * specialChars.length)];\r\n                }\r\n\r\n                // Добавляем случайный символ из выбранного charSet\r\n                result += randomChar;\r\n            }\r\n\r\n            // Установка сгенерированного пароля в поле password\r\n            if (this.loginFormVisible) {\r\n                this.password = '';\r\n            } else {\r\n                this.password = result;\r\n            }\r\n            \r\n            },\r\n\r\n            showHide() {\r\n                this.showPassword =!this.showPassword;\r\n            },\r\n            \r\n        },\r\n\r\n\r\n        created() {\r\n            // Вызов метода для генерации пароля при создании компонента\r\n            this.makePassword();\r\n        },\r\n    \r\n}\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.size {\r\n    width: 40%;\r\n    margin: 0 auto;\r\n}\r\n\r\nfooter {\r\n    position: fixed;\r\n    bottom: 0;\r\n    width: 100%;\r\n}\r\n</style>","import { render } from \"./Login-Registration.vue?vue&type=template&id=578af466&scoped=true\"\nimport script from \"./Login-Registration.vue?vue&type=script&lang=js\"\nexport * from \"./Login-Registration.vue?vue&type=script&lang=js\"\n\nimport \"./Login-Registration.vue?vue&type=style&index=0&id=578af466&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-578af466\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","_hoisted_7","type","_hoisted_17","_createElementBlock","_hoisted_1","_hoisted_2","onClick","_cache","_withModifiers","$event","$options","switchForm","$data","loginFormVisible","onSubmit","args","authentificate","_hoisted_3","id","placeholder","username","_hoisted_4","_hoisted_5","showPassword","password","showHide","_hoisted_9","_hoisted_10","registrate","_hoisted_11","_hoisted_12","_hoisted_13","email","_hoisted_14","_hoisted_15","makePassword","_hoisted_19","_hoisted_20","data","methods","formType","this","response","axios","post","headers","localStorage","setItem","access","refresh","authStore","value","$router","push","name","error","console","request","log","alert","message","length","Math","floor","random","uppercase","lowercase","numbers","specialChars","result","charSet","randomChar","created","__exports__","render"],"sourceRoot":""}